<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>欢迎来到Simple的博客</title>
<link rel="stylesheet" href="css/about.css" />
<link rel="stylesheet" href="../layui/css/layui.css">
<link href="../css/index.css" rel="stylesheet" />
<style type="text/css">
	#Module-01 ul li{
		list-style: none;
	}
</style>
<script type="text/javascript" src="../js/jquery.min.js"></script>
</head>
<body>
	<div style="width: 100%">
		<div class="head">
			<div class="div1">personal blog</div>
			<div class="div3">
				<ul style="margin-top: 10px;">
					<li style="display: inline;margin-right: 10px;"><a href="../index.html">主页</a></li>
					<li style="display: inline;margin-right: 10px;"><a href="roll.html">友链</a></li>
					<li style="display: inline;margin-right: 10px;"><a href="about.html">关于</a></li>
					<li style="display: inline;margin-right: 10px;"><a href="#">GITHUB</a></li>
				</ul>
			</div>
			<div class="div2">我不怕千万人阻挡,只怕自己投降</div>
		</div>

		<div class="row">

			<div class="columnmiddle">
					<span style="color: cornflowerblue;"># </span>About me
				<p style="font-size: 14px">
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美

				<p style="font-size: 14px">
				　　	鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
					鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美鸡你太美
				</p>
				<br />
					<span style="color: cornflowerblue;"># </span>Contact
				<ul>
					<li>我的邮箱：2319500367@qq.com</li>
					<li>QQ技术交流群：528269096</li>
					<li>我的联系方式：2319500367(QQ)</li>
				</ul>
				<br />
					<span style="color: cornflowerblue;"># </span>Qoute

				<ul>
					<li>Steve Jobs</li>
				</ul>

				<div id="Module-01">
					<ul>
						<li style="list-style: none;">
					<p class="font-style">Stay hungry.Stay foolish</p></li>
					</ul>
				</div>

				<ul>
					<li>Kahlil Gibran</li>
				</ul>

				<div id="Module-01" style="height: 220px;">
					<ul>
						<li><p class="font-style">The FIRST TIME WHEN I saw her being meek
						that she might attain height.</p></li>
						<li><p class="font-style">The SECOND TIMEWHEN I saw her limping
						BEFORE the crippled.</p></li>
						<li><p class="font-style">The third TIME WHEN she was given TO
						choose BETWEEN the hard AND the easy, AND she chose the easy.</p></li>
						<li><p class="font-style">The fourth TIME WHEN she COMMITTED a
						wrong,AND comforted herself that others also COMMTT wrong.</p></li>
						<li><p class="font-style">The fifth TIME WHEN she forbore FOR
						weakness,AND attributed her patience TO strength.</p></li>
						<li><p class="font-style">The sixth TIME WHEN she despised the
						ugliness of a face, AND knewNOT that it was ONE of her own masks.</p></li>
						<li><p class="font-style">AND the seventh TIME WHEN she sang a song
						of praise, AND deemed it a virtue.</p></li>
					</ul>
				</div>

				<br /> <span style="font-size: 12px;">本站文章除注明转载/出处外皆为作者原创欢迎转载但未经作者同意必须保留此段声明且在文章页面明显位暨始出原文链接否则保留追究法律责任的权利。
				</span> <span>&nbsp;</span>

				<hr />

				<form action="#" method="post" id="Comments" class="code">
				<div id="bottomD">
					
						 <h3>添加评论</h3>
						
						<div id="bottomE">
							<form id="Comments" class="code">
								<input type="text" id="commentator" placeholder="*(必填)怎么称呼您"/>
								<input type="email" id="email" placeholder="*(必填)你的联系邮箱"/>
								<input type="text" id="website_url" placeholder="你的网站地址(可不填)"/>
								<input type="text" class="input-val" placeholder="*(必填)请输入验证码" style="width:610px;margin-right:8px;"/>
								<canvas id="canvas" style="max-height: 30px;width: 150px;cursor: pointer;box-sizing: border-box;display:inline-block;"></canvas>
								<textarea placeholder="*(必填)请输入你的评论" id="comment_body"></textarea>
								<button type="button" class="btn layui-btn layui-btn-normal">提交</button>
							</form>
						</div>
					</div>    
				</form>

			</div>

		</div>

		<div class="footer">
			© 2020　1805<br /> 
		</div>
	</div>
	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../layui/layui.js"></script>
	<script>
		//验证码js
		layui.use([ 'jquery', 'laypage', 'layer' ], function() {
			var laypage = layui.laypage, layer = layui.layer;
			var $=layui.jquery;
		
		$("#submit").on('click',function(){
				var commentator=$("#commentator").val();
				var email=$("#email").val();
				var website_url=$("#website_url").val();
				var comment_body=$("#comment_body").val();
				
				if(commentator==""||commentator==null){
					layer.msg("名称不能为空")
					return;
				}
				if(email==""||email==null){
					layer.msg("邮箱不能为空")
					return;
				}
				if(comment_body==""||comment_body==null){
					layer.msg("内容不能为空")
					return;
				}
				$.ajax({
					url:"/comment/insert",
					data:{
						blog_id:1,
						commentator:commentator,
						email:email,
						website_url:website_url,
						comment_body:comment_body,
					},
					success:function(res){
						if(res.data>0){
							layer.alert("提交成功",function(){
								location.href=location;
							})
						}else{
							layer.alert("提交失败")
						}
					}
				})
			})
		});
		$(function() {
			var show_num = [];
			draw(show_num);
			$("#canvas").on('click', function() {
				draw(show_num);
			})
			$(".btn").on('click', function() {
				var val = $(".input-val").val().toLowerCase();
				var num = show_num.join("");
				if (val == '') {
					alert('请输入验证码！');
				} else if (val == num) {
					alert('提交成功！');
					$(".input-val").val('');
					// draw(show_num);
				} else {
					alert('验证码错误！请重新输入！');
					$(".input-val").val('');
					// draw(show_num);
				}
			})
		})
		//生成并渲染出验证码图形
		function draw(show_num) {
			var canvas_width = $('#canvas').width();
			var canvas_height = $('#canvas').height();
			var canvas = document.getElementById("canvas");//获取到canvas的对象，演员
			var context = canvas.getContext("2d");//获取到canvas画图的环境，演员表演的舞台
			canvas.width = canvas_width;
			canvas.height = canvas_height;
			var sCode = "a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0";
			var aCode = sCode.split(",");
			var aLength = aCode.length;//获取到数组的长度
			for (var i = 0; i < 4; i++) { //这里的for循环可以控制验证码位数（如果想显示6位数，4改成6即可）
				var j = Math.floor(Math.random() * aLength);//获取到随机的索引值
				// var deg = Math.random() * 30 * Math.PI / 180;//产生0~30之间的随机弧度
				var deg = Math.random() - 0.5; //产生一个随机弧度
				var txt = aCode[j];//得到随机的一个内容
				show_num[i] = txt.toLowerCase();
				var x = 10 + i * 20;//文字在canvas上的x坐标
				var y = 20 + Math.random() * 8;//文字在canvas上的y坐标
				context.font = "bold 23px 微软雅黑";
				context.translate(x, y);
				context.rotate(deg);
				context.fillStyle = randomColor();
				context.fillText(txt, 0, 0);
				context.rotate(-deg);
				context.translate(-x, -y);
			}
			for (var i = 0; i <= 5; i++) { //验证码上显示线条
				context.strokeStyle = randomColor();
				context.beginPath();
				context.moveTo(Math.random() * canvas_width, Math.random()
						* canvas_height);
				context.lineTo(Math.random() * canvas_width, Math.random()
						* canvas_height);
				context.stroke();
			}
			for (var i = 0; i <= 30; i++) { //验证码上显示小点
				context.strokeStyle = randomColor();
				context.beginPath();
				var x = Math.random() * canvas_width;
				var y = Math.random() * canvas_height;
				context.moveTo(x, y);
				context.lineTo(x + 1, y + 1);
				context.stroke();
			}
		}
		//得到随机的颜色值
		function randomColor() {
			var r = Math.floor(Math.random() * 256);
			var g = Math.floor(Math.random() * 256);
			var b = Math.floor(Math.random() * 256);
			return "rgb(" + r + "," + g + "," + b + ")";
		}
	</script>
</body>
</html>