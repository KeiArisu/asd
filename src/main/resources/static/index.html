<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>å‰å°ä¸»é¡µ</title>
<link href="css/index.css" rel="stylesheet" />
<link rel="stylesheet" href="layui/css/layui.css" media="all">
</head>
<body>
	<div>
		<!-- å¤´éƒ¨ -->
		<div class="head">
			<div class="div1">personal blog</div>
			<div class="div2">æˆ‘ä¸æ€•åƒä¸‡äººé˜»æŒ¡,åªæ€•è‡ªå·±æŠ•é™</div>
			<div class="div3">
				<ul style="margin-top: 10px;">
					<li style="display: inline; margin-right: 10px;"><a href="index.html">ä¸»é¡µ</a></li>
					<li style="display: inline; margin-right: 10px;"><a href="backstage/roll.html">å‹é“¾</a></li>
					<li style="display: inline; margin-right: 10px;"><a href="backstage/about.html">å…³äº</a></li>
					<li style="display: inline; margin-right: 10px;"><a href="#">GITHUB</a></li>
				</ul>
			</div>
		</div>

		<!-- ä¸­é—´   -->
		<div class="zj" id="center">

			<div class="zj1" id="center1">

				<fieldset class="layui-elem-field layui-field-title"
					style="margin-top: 30px;">
					<legend>ç”Ÿæ´»å¦‚æ­¤å¤šå¨‡</legend>
				</fieldset>
				<ul class="layui-timeline" id="show">
				
				
				
					<!-- <li class="layui-timeline-item"><i
						class="layui-icon layui-timeline-axis">î˜¿</i>
						<div class="layui-timeline-content layui-text">
							<h3 class="layui-timeline-title">8æœˆ18æ—¥</h3>
							<p><a href="backstage/apage.html" style="text-decoration:none;color:black;">
								Spring Bootç³»åˆ—æ•™ç¨‹</a>
							</p>
							<img src="images/kei.jpg" style="width: 400px;" />
						</div></li>
					<li class="layui-timeline-item"><i
						class="layui-icon layui-timeline-axis">î˜¿</i>
						<div class="layui-timeline-content layui-text">
							<h3 class="layui-timeline-title">8æœˆ16æ—¥</h3>
							<p>
								æœç”«çš„æ€æƒ³æ ¸å¿ƒæ˜¯å„’å®¶çš„ä»æ”¿æ€æƒ³ï¼Œä»–æœ‰<em>â€œè‡´å›å°§èˆœä¸Šï¼Œå†ä½¿é£ä¿—æ·³â€</em>çš„å®ä¼ŸæŠ±è´Ÿã€‚ä¸ªäººæœ€çˆ±çš„åç¯‡æœ‰ï¼š
							</p>
							<ul>
								<li>ã€Šç™»é«˜ã€‹</li>
								<li>ã€ŠèŒ…å±‹ä¸ºç§‹é£æ‰€ç ´æ­Œã€‹</li>
							</ul>
							<img src="images/qflat.jpg" style="width: 400px;" />
						</div></li>
					<li class="layui-timeline-item"><i
						class="layui-icon layui-timeline-axis">î˜¿</i>
						<div class="layui-timeline-content layui-text">
							<h3 class="layui-timeline-title">8æœˆ15æ—¥</h3>
							<p>
								ä¸­å›½äººæ°‘æŠ—æ—¥æˆ˜äº‰èƒœåˆ©æ—¥ <br>å¸¸å¸¸åœ¨æƒ³ï¼Œå°½ç®¡å¯¹è¿™ä¸ªå›½å®¶æœ‰è¿™æ ·é‚£æ ·çš„æŠ±æ€¨ï¼Œä½†æˆ‘ä»¬çš„ç¡®ç”Ÿåœ¨äº†æœ€å¥½çš„æ—¶ä»£ <br>é“­è®°ã€æ„Ÿæ©
								<br>æ‰€æœ‰ä¸ºä¸­åæ°‘æ—æµ´è¡€å¥‹æˆ˜çš„è‹±é›„å°†å£« <br>æ°¸å‚ä¸æœ½
							</p>
							<img src="images/åˆ‡å§¬å¤œæ¶.jpg" style="width: 400px;" />
						</div></li>
					<li class="layui-timeline-item"><i
						class="layui-icon layui-timeline-axis">î˜¿</i>
						<div class="layui-timeline-content layui-text">
							<h3 class="layui-timeline-title">7æœˆ15æ—¥</h3>
							<p>
								layui 2.0 çš„ä¸€åˆ‡å‡†å¤‡å·¥ä½œä¼¼ä¹éƒ½å·²åˆ°ä½ã€‚å‘å¸ƒä¹‹å¼¦ï¼Œä¸€è§¦å³å‘ã€‚ <br>ä¸æ‰è¿‘ç™¾ä¸ªæ—¥æ—¥å¤œå¤œä¸ä¹‹ä¸ºä¼´ã€‚å› å°è€Œå¤§ï¼Œå› å¼±è€Œå¼ºã€‚
								<br>æ— è®ºå®ƒèƒ½èµ°å¤šè¿œï¼ŒæŠ‘æˆ–å¦‚ä½•æ”¯æ’‘ï¼Ÿè‡³å°‘æˆ‘æ›¾å€¾æ³¨å…¨å¿ƒï¼Œæ— æ€¨æ— æ‚” <i class="layui-icon">î™</i>
							</p>
							<img src="images/ç‹‚ä¸‰.jpg" style="width: 400px;" />
						</div></li>
					<li class="layui-timeline-item"><i
						class="layui-icon layui-timeline-axis">î˜¿</i>
						<div class="layui-timeline-content layui-text">
							<div class="layui-timeline-title">è¿‡å»</div>
						</div></li> -->
				</ul>

				<div id="demo7" style="width:400px;"></div>
			</div>

			<div class="zj2" id="center2">

				<div class="zj21">
					<button class="btn" style="border-bottom: 1px black solid;">
						<h4>æœç´¢æ–‡ç« </h4>
					</button>
					<hr
						style="background-color: rgb(241, 241, 241); height: 1px; border: 0px; margin-top: 0px;" />
				</div>
				<div class="zj22">
					<form>
						<div class="layui-form-item">
							<div class="layui-input-inline">
								<input type="text" name="blog_title" id="blog_title" lay-verify="required"
									placeholder="è¯·è¾“å…¥" autocomplete="off" class="layui-input"
									style="width: 300px;">
								<button type="button"
									class="layui-btn layui-btn-primary layui-btn-sm btn1" id="search">
									<i class="layui-icon ">ğŸ”</i>
								</button>
							</div>
						</div>
					</form>
				</div>
				<div>
					<div style="width: 300px;" id="search_blog"></div>
				</div>

				<div style="margin-top: 20px;">
					<button class="btn" style="border-bottom: 1px black solid;">
						<h4>çƒ­é—¨æ ‡ç­¾</h4>
					</button>
					<hr
						style="background-color: rgb(241, 241, 241); height: 1px; border: 0px; margin-top: 0px;" />
				</div>

				<div>
					<div style="width: 300px;" id="hotag"></div>
				</div>

				<div style="margin-top: 20px;">
					<button class="btn" style="border-bottom: 1px black solid;">
						<h4>æœ€æ–°å‘å¸ƒ</h4>
					</button>
					<hr
						style="background-color: rgb(241, 241, 241); height: 1px; border: 0px; margin-top: 0px;" />
				</div>

				<div>
					<div style="width: 300px;" id="newtag">
					</div>
				</div>
				
				<div style="margin-top: 20px;">
					<button class="btn" style="border-bottom: 1px black solid;">
						<h4>ç‚¹å‡»æœ€å¤š</h4>
					</button>
					<hr style="background-color: rgb(241, 241, 241); height: 1px; border: 0px; margin-top: 0px;" />
				</div>

				<div class="divw" id="clickdiv">
					
				</div>
				
				<div style="margin-top: 20px;">
					<button class="btn" style="border-bottom: 1px black solid;">
						<h4>ç‰ˆæƒ</h4>
					</button>
					<hr style="background-color: rgb(241, 241, 241); height: 1px; border: 0px; margin-top: 0px;" />
				</div>
				
				
				<div>
					<div style="width: 300px;">
						<div class="divq">Â©14215214124</div>
						<div class="divq">Â©14125437623532523</div>
					</div>
				</div>
				
			</div>

		</div>
	</div>
	<script src="layui/layui.js" charset="utf-8"></script>
	<script src="js/jquery.min.js" charset="utf-8"></script>
	<script type="text/javascript">
		var obj=[];
		layui.use([ 'jquery','laypage', 'layer' ], function() {
			var laypage = layui.laypage, layer = layui.layer,$=layui.jquery;


			$.ajax({
				url:"/tag/list",
				success:function(res){
					for(var i=0;i<12;i++){
						$("#hotag").append("<div class='layui-btn layui-btn-sm' style='color: black; background-color: white; display: inline-block; border: 1px rgb(241, 241, 241) solid; margin: 5px;'>"+res.data[i].tag_name+"</div>")
					}
				}
			})
			$.ajax({
				url:'/blog/findAllByDate',
				success:function(res){
					for(var i=0;i<4;i++){
						$("#newtag").append("<div style='margin:20px 0px 20px 0px'><a href=backstage/apage.html?blog_id="+res.data[i].blog_id+" style='text-decoration:none;color:black'>"+res.data[i].blog_title+"</a></div>")
					}
				}
			})
			$.ajax({
				url:'/blog/getBlogCountGroup',
				success:function(res){
					for(var i=0;i<4;i++){
						$("#clickdiv").append("<div style='margin:20px 0px 20px 0px'><a href=backstage/apage.html?blog_id="+res.data[i].blog_id+" style='text-decoration:none;color:black'>"+res.data[i].blog_title+"</a></div>")
					}
				}
			})
			$.ajax({
				url:"/blog/countByStatus",
				success:function(res){
				    rows=res;
				    console.log(res)
				  //å®Œæ•´åŠŸèƒ½
					laypage.render({
						elem : 'demo7',
						limit : 5,
						count: rows,
						jump : function(obj) {
					    	console.log(obj.curr); //å¾—åˆ°å½“å‰é¡µï¼Œä»¥ä¾¿å‘æœåŠ¡ç«¯è¯·æ±‚å¯¹åº”é¡µçš„æ•°æ®ã€‚
					        console.log(obj.limit); //å¾—åˆ°æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°     
							
					    	$.ajax({
								url:"/blog/lists",
								data:{
					        		page:obj.curr,
					        		limit:obj.limit
					        	},
								success:function(res){
									console.log(res)
									var config_names=["yourName","yourAvatar"]
									
									$.ajax({
										url:"/config/findByConfigNames",
										data:{
											config_names:config_names
										},
										async:false,
										success:function(req){
											console.log(req);
											obj[0]=req.data[0].config_value;
											obj[1]=req.data[1].config_value;
										}
									});
									var str="";
									for(var i=0;i<res.list.length;i++){
											console.log("file:///E:"+res.list[i].blog_cover_image)
											str+="<div><img style=width:40px;height:40px;border-radius:40px; src=.."+obj[0]+"><span style=margin-left:10px;>"+obj[1]+"</span></div>"
											str+="<h3 class=layui-timeline-title style='margin-left:10px;'><a href=backstage/apage.html?blog_id="+res.list[i].blog_id+">"+res.list[i].blog_title+"<p style='text-align:right;'>"+res.list[i].create_time+"</p></a></h3>"
											str+="<li class=layui-timeline-item>"
											str+="<i class=layui-icon layui-timeline-axis></i>"
											str+="<div class=layui-timeline-content layui-text>"
											str+="<img src="+res.list[i].blog_cover_image+" style=width:400px;>"
											str+="</div>"
											str+="</li>"
									}
									$("#show").html(str);
								}
							});
						}
					});
				}
			});
		
			$("#search").on('click',function(){
				var blog_title=$("#blog_title").val();
			
				if(blog_title==""){
					layer.msg("è¯·è¾“å…¥å†…å®¹");
					return;
				}
				$("#search_blog").html('');
				$.ajax({
					url:"/blog/list",
					data:{
						blog_title:blog_title
					},
					success:function(res){
						console.log(res)
						if(res.data.length==0){
							layer.msg("è¾“å…¥çš„å†…å®¹ä¸å­˜åœ¨");
							return;
						}
						for(var i=0;i<res.data.length;i++){
							$("#search_blog").append("<div style='margin:20px 0px 20px 0px'><a href=backstage/apage.html?blog_id="+res.data[i].blog_id+" style='text-decoration:none;color:black'>"+res.data[i].blog_title+"</a></div>")
						}
					}
				});
			});
		}); 
		var h=document.getElementById("center1").getAttribute("height"); 
		var hh=document.getElementById("center2").getAttribute("height");
		document.getElementById("center").setAttribute("height",h+hh);
	</script>
</body>
</html>